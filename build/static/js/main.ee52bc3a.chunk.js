(this.webpackJsonpfiregram=this.webpackJsonpfiregram||[]).push([[0],{32:function(e,t,a){e.exports=a(48)},37:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(2),o=a.n(n),l=a(30),r=a.n(l),c=(a(37),a(20)),s=a(18),m=a.n(s),u=a(23),i=a(13),d=a(16),b=a(14);a(39),a(41),a(49),a(50);b.a.apps.length||b.a.initializeApp({apiKey:"AIzaSyAkzKuW2mENCmjPc2womDILHLfvkbXRuEo",authDomain:"bmt-church-final.firebaseapp.com",projectId:"bmt-church-final",databaseURL:"https://bmt-church-final-default-rtdb.firebaseio.com/",storageBucket:"bmt-church-final.appspot.com",messagingSenderId:"276132237189",appId:"1:276132237189:web:6797287d66c886d52f3eec",measurementId:"G-K94XKLJ0YX"});var f=b.a.firestore(),p=(b.a.database(),b.a.auth(),b.a.storage()),x=function(){var e=Object(n.useState)({name:"",dob:"",houseName:"",houseId:"",imgUrl:"",job:"",phone:"",verified:0,address:"",landline:""}),t=Object(d.a)(e,2),a=t[0],l=t[1],r=o.a.useState(!1),s=Object(d.a)(r,2),x=s[0],h=s[1],g=Object(n.useState)({}),y=Object(d.a)(g,2),E=y[0],v=y[1],w=Object(n.useState)(""),N=Object(d.a)(w,2),k=N[0],j=N[1],O=Object(n.useState)({imgUrl:""}),C=Object(d.a)(O,2);C[0],C[1];Object(n.useEffect)((function(){H()}),[]);var H=function(){var e=Object(u.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.collection("housenames"),e.next=3,t.get();case 3:if(!(a=e.sent).empty){e.next=7;break}return console.log("No matching documents."),e.abrupt("return");case 7:n=a.docs.map((function(e){return Object(i.a)({key:e.id},e.data())})),v(n),console.log("hi<",n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(e){return function(t){l(Object(i.a)(Object(i.a)({},a),{},Object(c.a)({},e,t.target.value)))}},S=function(){var e=Object(u.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=a.name){e.next=3;break}return alert("Error","A Name is requires "),e.abrupt("return");case 3:if(""!=a.houseName&&""!=a.houseName){e.next=6;break}return alert("House Name not slected/created "),e.abrupt("return");case 6:t="",console.log(a),f.collection("dirusers").add(a).then((function(e){console.log("Added document with ID: ",e.id),t=e.id})).then((function(){console.log("here"),f.collection("housenames").doc(a.houseId).update({members:b.a.firestore.FieldValue.arrayUnion({name:a.name,id:t})}).then((function(){console.log("Member added to House Name added"),alert("Successfully Added"),l({name:"",dob:"",houseName:"",houseId:"",imgUrl:"",job:"",phone:"",verified:0,address:"",landline:""}),j("")}))})).catch((function(e){console.log(e.code)}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement("div",{class:"font-sans h-screen w-full bg-gray-300 flex flex-col items-center justify-center "},o.a.createElement("label",{for:"",class:"uppercase tracking-extrawide text-grey-800 text-xl font-bold my-6 "},"Add Member"),o.a.createElement("form",{action:"",className:""},o.a.createElement("div",{className:"flex flex-row "},o.a.createElement("div",{class:"mb-4 mx-4"},o.a.createElement("label",{class:"block text-gray-800 text-sm font-bold mb-2",for:"name"},"Name"),o.a.createElement("input",{value:a.name,onChange:I("name"),class:"shadow appearance-none border rounded  py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",type:"text"})),o.a.createElement("div",{class:"mb-4 mx-4"},o.a.createElement("label",{class:"block text-gray-800 text-sm font-bold mb-2",for:"name"},"DOB"),o.a.createElement("input",{value:a.dob,onChange:I("dob"),class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",type:"date"})),o.a.createElement("div",{class:"mb-4 mx-4"},o.a.createElement("label",{class:"block text-gray-800 text-sm font-bold mb-2",for:"name"},"Job"),o.a.createElement("input",{value:a.job,onChange:I("job"),class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",type:"text"}))),o.a.createElement("div",{className:"flex flex-row"},o.a.createElement("div",{class:"mb-4 mx-4"},o.a.createElement("label",{class:"block text-gray-800 text-sm font-bold mb-2",for:"name"},"Phone"),o.a.createElement("input",{value:a.phone,onChange:I("phone"),class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",type:"text"})),o.a.createElement("div",{class:"mb-4 mx-4"},o.a.createElement("label",{class:"block text-gray-800 text-sm font-bold mb-2",for:"name"},"LandLine"),o.a.createElement("input",{value:a.landline,onChange:I("landline"),class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",type:"text"}))),o.a.createElement("div",{className:"flex flex-row"},o.a.createElement("div",{class:"mb-4 mx-4"},o.a.createElement("label",{class:"block text-gray-800 text-sm font-bold mb-2",for:"name"},"Address"),o.a.createElement("input",{value:a.address,onChange:I("address"),class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",type:"textarea"}))),o.a.createElement("div",{className:"flex flex-row"},o.a.createElement("div",{class:"mb-4 mx-4"},o.a.createElement("label",{class:"block text-gray-800 text-sm font-bold mb-2",for:"name"},"Select Profile Picture"),o.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files[0];j((function(e){return t}))},class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})),o.a.createElement("button",{class:"mx-4 my-7 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button",onClick:function(){return function(e){console.log("start of upload"),""===k&&alert("not an image, the image file is a ".concat(typeof k));var t=p.ref().child("/images/dir/".concat(a.name).concat(a.dob)).put(k);t.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(function(e){}),(function(){t.snapshot.ref.getDownloadURL().then((function(e){console.log("File available at",e),l(Object(i.a)(Object(i.a)({},a),{},{imgUrl:e})),alert("Image Uploaded")}))}))}()}},"Upload")),o.a.createElement("div",{className:"flex flex-row"},o.a.createElement("div",{class:"mb-4 mx-4"},o.a.createElement("h4",{class:"block text-gray-800 text-Xl font-bold mb-2",for:"name"},"House Name"),o.a.createElement("p",{class:"block text-gray-800 text-sm font-bold mb-2",for:"name"},"Create New House Name"),o.a.createElement("input",{value:a.houseName,onChange:I("houseName"),class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",type:"textarea"})),o.a.createElement("div",{class:"mb-4 flex items-center mt-11"},o.a.createElement("button",{class:" my-4 mx-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button",onClick:function(){return function(){if(""!=a.houseName){var e={HouseName:a.houseName,members:[]};f.collection("housenames").add(e).then((function(e){console.log("Added document with ID: ",e.id),l(Object(i.a)(Object(i.a)({},a),{},{houseId:e.id})),console.log("Added with id",e.id),alert("House Name added")})).catch((function(e){console.log(e.code)}))}else alert("Error","Name is necessary ")}()}},"Create New House Name"),o.a.createElement("div",{className:"font-bold"},"OR"),o.a.createElement("button",{class:" my-4 mx-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button",onClick:function(){return h(!0)}},"Pick House Name"))),o.a.createElement("div",{className:"-mt-5 ml-4"},o.a.createElement("p",{class:"block text-gray-800 text-sm font-bold mb-2",for:"name"},"Selected House : ",a.houseName)),o.a.createElement("div",{className:"ml-4"},o.a.createElement("button",{onClick:S,class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button"},"Submit"))),x?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none"},o.a.createElement("div",{className:"relative w-auto my-6 mx-auto max-w-3xl"},o.a.createElement("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none"},o.a.createElement("div",{className:"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t"},o.a.createElement("h3",{className:"text-3xl font-semibold"},"Family Names"),o.a.createElement("button",{className:"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:function(){return h(!1)}},o.a.createElement("span",{className:"bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none"},"X"))),o.a.createElement("div",{className:"relative p-6 flex-auto"},o.a.createElement("p",null,"Click to select Family Name"),o.a.createElement("table",{class:"table-auto border-collapse border border-green-800"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Family Name"),o.a.createElement("th",null,"Members"))),o.a.createElement("tbody",null,E.map((function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("tr",{className:"cursor-pointer",onClick:function(){console.log(e.HouseName),l(Object(i.a)(Object(i.a)({},a),{},{houseName:e.HouseName,houseId:e.key}))}},o.a.createElement("td",{className:"py-1 px-3 border border-green-600"},e.HouseName),o.a.createElement("td",{className:" py-1 px-3 border border-green-600"},e.members.map((function(e){return o.a.createElement("span",{className:"mx-1"},e.name)})))))})))),o.a.createElement("p",null,"Selected House Name: ",a.houseName)),o.a.createElement("div",{className:"flex items-center justify-end p-6 border-t border-solid border-gray-300 rounded-b"},o.a.createElement("button",{className:"bg-green-500 text-white active:bg-green-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1",type:"button",style:{transition:"all .15s ease"},onClick:function(){return h(!1)}},"Close"))))),o.a.createElement("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})):null)},h=a(21),g=function(){return o.a.createElement("nav",{class:"font-sans bg-white text-center flex justify-between my-4 mx-auhref  overflow-hidden"},o.a.createElement(h.a,null,o.a.createElement("div",{className:"text-xl mx-4 font-bold"},"BMT CHURCH"),o.a.createElement("ul",{class:"text-sm text-gray-700 list-none p-0 flex items-center mr-4 font-bold"},o.a.createElement("li",null,o.a.createElement("a",{href:"/",class:"inline-block py-2 px-3 text-gray-900 hover:text-gray-700 no-underline"},"Home")),o.a.createElement("li",null,o.a.createElement("a",{href:"/member",class:"inline-block py-2 px-3 text-gray-900 hover:text-gray-700 no-underline"},"Add Members")))))},y=a(4),E=function(){return o.a.createElement("section",{class:"font-sans h-screen bg-gray-300 text-center flex items-center justify-center"},o.a.createElement("label",{for:"",class:"uppercase tracking-extrawide text-black text-6xl font-hairline flex items-center w-1/2 "},"Bethel Marthoma Mukkola Data Entry"))};var v=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(g,null),o.a.createElement(h.a,null,o.a.createElement(y.a,{exact:!0,path:"/",component:E}),o.a.createElement(y.a,{exact:!0,path:"/member",component:x})))};r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(v,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.ee52bc3a.chunk.js.map