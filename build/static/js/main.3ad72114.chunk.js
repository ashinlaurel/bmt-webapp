(this.webpackJsonpfiregram=this.webpackJsonpfiregram||[]).push([[0],{35:function(e,t,a){e.exports=a(51)},40:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(2),o=a.n(n),l=a(33),r=a.n(l),c=(a(40),a(22)),s=a(20),u=a.n(s),m=a(16),i=a(26),d=a(15),b=a(13),f=a(10);a(42),a(44),a(52),a(53);f.a.apps.length||f.a.initializeApp({apiKey:"AIzaSyAkzKuW2mENCmjPc2womDILHLfvkbXRuEo",authDomain:"bmt-church-final.firebaseapp.com",projectId:"bmt-church-final",databaseURL:"https://bmt-church-final-default-rtdb.firebaseio.com/",storageBucket:"bmt-church-final.appspot.com",messagingSenderId:"276132237189",appId:"1:276132237189:web:6797287d66c886d52f3eec",measurementId:"G-K94XKLJ0YX"});var p=f.a.firestore(),g=(f.a.database(),f.a.auth(),f.a.storage()),x=function(){var e={name:"",dob:"",imgUrl:"",job:"",phone:"",verified:0,address:"",landline:"",houseName:"",houseId:""},t=Object(n.useState)([e]),a=Object(b.a)(t,2),l=a[0],r=a[1],s=Object(n.useState)({houseName:"",houseId:""}),x=Object(b.a)(s,2),h=x[0],y=x[1],E=o.a.useState(!1),v=Object(b.a)(E,2),w=v[0],N=v[1],j=Object(n.useState)({}),k=Object(b.a)(j,2),O=k[0],C=k[1],S=Object(n.useState)("no"),I=Object(b.a)(S,2),H=I[0],A=I[1],M=Object(n.useState)(""),F=Object(b.a)(M,2),L=F[0],D=F[1],U=Object(n.useState)(""),B=Object(b.a)(U,2),P=B[0],X=B[1],z=Object(n.useState)(!1),J=Object(b.a)(z,2),K=J[0],R=J[1],G=Object(n.useState)(""),W=Object(b.a)(G,2),q=W[0],T=W[1],V=Object(n.useState)({imgUrl:""}),Y=Object(b.a)(V,2),_=(Y[0],Y[1],function(e){var t=e.target.files[0];T((function(e){return t}))});Object(n.useEffect)((function(){Z(),$()}),[]);var Q,Z=function(){var e=Object(i.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.collection("housenames"),e.next=3,t.get();case 3:if(!(a=e.sent).empty){e.next=7;break}return console.log("No matching documents."),e.abrupt("return");case 7:n=a.docs.map((function(e){return Object(m.a)({key:e.id},e.data())})),C(n),console.log("hi<",n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){f.a.auth().onAuthStateChanged((function(e){e?(R(!0),console.log("Already Signed in")):(R(!1),console.log("Not currenlty Signed in"))}))},ee=function(){var t=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l.map((function(t,a){if(""!=t.name)if(""!=l.houseName&&""!=l.houseName){"yes"==H.toLowerCase()||"y"==H.toLowerCase()?t.FamilyHead=!0:t.FamilyHead=!1;var n="";t.houseId=h.houseId,t.houseName=h.houseName,console.log(t),p.collection("dirusers").add(t).then((function(e){console.log("Added document with ID: ",e.id),n=e.id})).then((function(){console.log("here"),p.collection("housenames").doc(t.houseId).update({members:f.a.firestore.FieldValue.arrayUnion({name:t.name,id:n})}).then((function(){console.log("Member added to House Name added"),r([e]),T("")}))})).catch((function(e){console.log(e.code)}))}else alert("Member ".concat(a+1,"House Name not slected/created "));else alert("Error","Member ".concat(a+1,":A Name is required "))})),alert("Successfully Added");case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),te=function(e){return o.a.createElement("div",{className:"bg-gray-300 rounded-lg p-3 m-2"},o.a.createElement("div",{className:"flex flex-row"},o.a.createElement("div",{class:"mb-4 mx-4"},o.a.createElement("label",{class:"block text-gray-800 text-sm font-bold mb-2",for:"name"},"Name"),o.a.createElement("input",{value:l[e].name,onChange:function(t){var a=Object(d.a)(l);a[e].name=t.target.value,r(a)},class:"shadow appearance-none border rounded  py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",type:"text"})),o.a.createElement("div",{class:"mb-4 mx-4"},o.a.createElement("label",{class:"block text-gray-800 text-sm font-bold mb-2",for:"name"},"DOB"),o.a.createElement("input",{value:l[e].dob,onChange:function(t){var a=Object(d.a)(l);a[e].dob=t.target.value,r(a)},class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",type:"date"})),o.a.createElement("div",{class:"mb-4 mx-4"},o.a.createElement("label",{class:"block text-gray-800 text-sm font-bold mb-2",for:"name"},"Job"),o.a.createElement("input",{value:l[e].job,onChange:function(t){var a=Object(d.a)(l);a[e].job=t.target.value,r(a)},class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",type:"text"}))),o.a.createElement("div",{className:"flex flex-row"},o.a.createElement("div",{class:"mb-4 mx-4"},o.a.createElement("label",{class:"block text-gray-800 text-sm font-bold mb-2",for:"name"},"Is Family head?"),o.a.createElement("input",{value:H,onChange:function(e){A(e.target.value)},class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",type:"text"})),o.a.createElement("div",{class:"mb-4 mx-4"},o.a.createElement("label",{class:"block text-gray-800 text-sm font-bold mb-2",for:"name"},"Phone"),o.a.createElement("input",{value:l[e].phone,onChange:function(t){var a=Object(d.a)(l);a[e].phone=t.target.value,r(a)},class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",type:"text"})),o.a.createElement("div",{class:"mb-4 mx-4"},o.a.createElement("label",{class:"block text-gray-800 text-sm font-bold mb-2",for:"name"},"LandLine"),o.a.createElement("input",{value:l[e].landline,onChange:function(t){var a=Object(d.a)(l);a[e].landline=t.target.value,r(a)},class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",type:"text"}))),o.a.createElement("div",{className:"flex flex-row"},o.a.createElement("div",{class:"mb-4 mx-4"},o.a.createElement("label",{class:"block text-gray-800 text-sm font-bold mb-2",for:"name"},"Address"),o.a.createElement("input",{value:l[e].address,onChange:function(t){var a=Object(d.a)(l);a[e].address=t.target.value,r(a)},class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",type:"textarea"}))),o.a.createElement("div",{className:"flex flex-row"},o.a.createElement("div",{class:"mb-4 mx-4"},o.a.createElement("label",{class:"block text-gray-800 text-sm font-bold mb-2",for:"name"},"Select Profile Picture"),o.a.createElement("input",{type:"file",onChange:_,class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})),o.a.createElement("button",{class:"mx-4 my-7 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button",onClick:function(){return function(e){console.log("start of upload"),""===q&&alert("not an image, the image file is a ".concat(typeof q));var t=g.ref().child("/images/dir/".concat(l.name).concat(l.dob)).put(q);t.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(function(e){}),(function(){t.snapshot.ref.getDownloadURL().then((function(t){console.log("File available at",t);var a=Object(d.a)(l);a[e].imgUrl=t,r(a),alert("Image Uploaded")}))}))}(e)}},"Upload")))};return o.a.createElement("div",null,K?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{class:"font-sans h-auto min-h-screen w-full bg-gray-200  flex flex-col items-center "},o.a.createElement("label",{for:"",class:"uppercase tracking-extrawide text-grey-800 text-xl font-hairline my-6 "},"Add Member"),o.a.createElement("form",{action:""},o.a.createElement("div",{className:"flex flex-row"},o.a.createElement("div",{class:"mb-4 ml-4 mr-1"},o.a.createElement("h4",{class:"block text-gray-800 text-Xl font-bold mb-2",for:"name"},"House Name"),o.a.createElement("p",{class:"block text-gray-800 text-sm font-bold mb-2",for:"name"},"Create New House Name"),o.a.createElement("input",{value:h.houseName,onChange:(Q="houseName",function(e){y(Object(m.a)(Object(m.a)({},h),{},Object(c.a)({},Q,e.target.value)))}),class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",type:"textarea"})),o.a.createElement("div",{class:"mb-4 mx-4 mt-11"},o.a.createElement("button",{class:"ml-1 mr-4 my-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button",onClick:function(){return function(){if(""!=h.houseName){var e={HouseName:h.houseName,members:[]};p.collection("housenames").add(e).then((function(e){console.log("Added document with ID: ",e.id),y(Object(m.a)(Object(m.a)({},h),{},{houseId:e.id})),console.log("Added with id",e.id),alert("House Name added")})).catch((function(e){console.log(e.code)}))}else alert("Error Name is necessary ")}()}},"Create New House Name")),o.a.createElement("div",{class:"mb-4 mx-4 mt-16"},o.a.createElement("p",{class:"mx-4 block text-gray-800 mx-4 font-bold mb-2",for:"name"},"OR")),o.a.createElement("div",{class:"mb-4 mx-4 mt-11"},o.a.createElement("button",{class:"mx-4 my-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button",onClick:function(){return N(!0)}},"Pick House Name"))),l.map((function(e,t){return o.a.createElement(o.a.Fragment,null,te(t))})),o.a.createElement("div",{class:"flex items-center justify-begining mb-64"},o.a.createElement("button",{onClick:ee,class:" mx-4 bg-blue-700 hover:bg-blue-800 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button"},"Submit"),o.a.createElement("button",{onClick:function(){var t=Object(d.a)(l),a=e;t.push(a),r(t)},class:"mx-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button"},"Add Member"))),w?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:" overflow-y-scroll max-h-screen justify-center items-center flex overflow-x-hidden  fixed inset-0 z-50 outline-none focus:outline-none"},o.a.createElement("div",{className:"relative w-auto my-6 mx-auto max-w-3xl overflow-y-scroll"},o.a.createElement("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none"},o.a.createElement("div",{className:"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t"},o.a.createElement("h3",{className:"text-3xl font-semibold"},"Family Names"),o.a.createElement("button",{className:"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:function(){return N(!1)}},o.a.createElement("span",{className:"bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none"},"X"))),o.a.createElement("div",{className:"relative p-6 flex-auto"},o.a.createElement("p",null,"Click to select Family Name"),o.a.createElement("table",{class:"table-auto border-collapse border border-green-800"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Family Name"),o.a.createElement("th",null,"Members"))),o.a.createElement("tbody",null,O.map((function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("tr",{className:"cursor-pointer",onClick:function(){console.log(e.HouseName),y(Object(m.a)(Object(m.a)({},h),{},{houseName:e.HouseName,houseId:e.key}))}},o.a.createElement("td",{className:"py-1 px-3 border border-green-600"},e.HouseName),o.a.createElement("td",{className:" py-1 px-3 border border-green-600"},e.members.map((function(e){return o.a.createElement("span",{className:"mx-1"},e.name,",")})))))})))),o.a.createElement("p",null,"Selected House Name: ",h.houseName)),o.a.createElement("div",{className:"flex items-center justify-end p-6 border-t border-solid border-gray-300 rounded-b"},o.a.createElement("button",{className:"bg-green-500 text-white active:bg-green-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1",type:"button",style:{transition:"all .15s ease"},onClick:function(){return N(!1)}},"Close"))))),o.a.createElement("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})):null)):o.a.createElement("div",{className:"bg-gray-300 h-screen flex flex-centre flex-col justify-center "},o.a.createElement("div",{class:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 flex flex-col mx-64 "},o.a.createElement("div",{className:"font-semibold text-2xl mb-4 "},"Login to continue"),o.a.createElement("div",{class:"mb-4"},o.a.createElement("label",{class:"block text-grey-darker text-sm font-bold mb-2",for:"username"},"Email"),o.a.createElement("input",{value:L,onChange:function(e){D(e.target.value)},class:"shadow appearance-none border rounded w-full py-2 px-3 text-grey-darker",id:"username",type:"text",placeholder:"Email"})),o.a.createElement("div",{class:"mb-6"},o.a.createElement("label",{class:"block text-grey-darker text-sm font-bold mb-2",for:"password"},"Password"),o.a.createElement("input",{value:P,onChange:function(e){X(e.target.value)},class:"shadow appearance-none border border-red rounded w-full py-2 px-3 text-grey-darker mb-3",id:"password",type:"password",placeholder:"******************"})),o.a.createElement("button",{class:"bg-blue-500 hover:bg-blue-400 text-white font-semibold shadow-md text-center font-bold py-2 px-4 rounded",onClick:function(){return console.log("sign in attemp"),void f.a.auth().signInWithEmailAndPassword(L,P).then((function(e){console.log("signed in"),R(!0)})).catch((function(e){e.code,e.message,console.log("Error",e.message),alert("Invalid email or password")}))},type:"button"},"Sign In"))))},h=a(24),y=function(){return o.a.createElement("nav",{class:"font-sans  text-center flex justify-between py-2 mx-auhref bg-gray-100 px-10 overflow-hidden"},o.a.createElement(h.a,null,o.a.createElement("div",{className:"mx-4 font-bold text-xl"},"BMT Church "),o.a.createElement("ul",{class:"text-sm text-gray-700 list-none p-0 flex items-center"},o.a.createElement("li",null,o.a.createElement("a",{href:"/",class:"inline-block py-2 px-3 text-gray-900 hover:text-gray-700 no-underline"},"Home")),o.a.createElement("li",null,o.a.createElement("a",{href:"/member",class:"inline-block py-2 px-3 text-gray-900 hover:text-gray-700 no-underline"},"Add Members")),o.a.createElement("li",null,o.a.createElement("div",{href:"/member",class:"inline-block py-2 px-3 text-gray-900 hover:text-gray-700 no-underline cursor-pointer",onClick:function(){f.a.auth().signOut().then((function(){console.log("Signed Out")}),(function(e){console.error("Sign Out Error",e)}))}},"Logout")))))},E=a(4),v=function(){return o.a.createElement("div",{className:"w-screen bg-fixed bg-left bg-cover h-screen flex items-center   ",style:{backgroundImage:"url('https://images.unsplash.com/photo-1453219562534-36e2ce0ea18e?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=666&q=80')"}},o.a.createElement("div",{for:"",class:"uppercase tracking-extrawide text-black text-4xl font-hairline flex items-center w-1/2 px-40 pb-56 "},"Bethel Marthoma Church Data Entry Portal"))};var w=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(y,null),o.a.createElement(h.a,null,o.a.createElement(E.a,{exact:!0,path:"/",component:v}),o.a.createElement(E.a,{exact:!0,path:"/member",component:x})))};r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(w,null)),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.3ad72114.chunk.js.map